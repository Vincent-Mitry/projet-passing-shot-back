{% extends 'base.html.twig' %}

{% block title %}Détails de l'utilisateur "back-office" n°
	{{ user.id }}
	:
	{{ user.firstname }}
	{{ user.lastname }}
{% endblock %}

{% block body %}

	<div class="container-fluid">
		<div class=" d-flex justify-content-between">
			<a href="{{ path('app_user_back-office') }}" class="btn btn-warning m-3" style="color: white; background-color: #EA5C0A; border-color: white;">Retour</a>
			{% if is_granted('ROLE_SUPER_ADMIN') %}
				<div class="d-flex justify-content-center">
					<a href="{{ path('app_user_back-office_edit', {'id': user.id}) }}" class="btn btn-warning m-3">Modifier</a>
					{{ include('user/back-office/_delete_form.html.twig') }}
				</div>
			{% endif %}
		</div>
		<div class="card shadow">
			<div class="card-header py-3">
				<p class="text-danger m-0 fw-bold text-center">Détails de l'utilisateur "back-office" n°
					{{ user.id }}
					:
					{{ user.firstname }}
					{{ user.lastname }}</p>
			</div>
			<div class="card-body">
				<div class="table-responsive table mt-2" id="dataTable" role="grid" aria-describedby="dataTable_info">
					<table class="table table-striped table-hover my-0" id="dataTable ">
						<tbody>
							<tr>
								<th class="">Id</th>
								<td>{{ user.id }}</td>
							</tr>
							<tr>
								<th class="">Nom</th>
								<td>{{ user.lastname }}</td>
							</tr>
							<tr>
								<th class="">Prénom</th>
								<td>{{ user.firstname }}</td>
							</tr>
							<tr>
								<th class="">Date de naissance</th>
								<td>{{ user.birthdate ? user.birthdate|date('Y-m-d') : '-' }}</td>
							</tr>
							<tr>
								<th class="">Adresse mail</th>
								<td>{{ user.email }}</td>
							</tr>
							<tr>
								<th class="">Genre</th>
								<td>{{ user.gender.type }}</td>
							</tr>
							<tr>
								<th class="">Niveau</th>
								<td>{{ user.level }}</td>
							</tr>
							<tr>
								<th class="">Téléphone</th>
								<td>{{ user.phone }}</td>
							</tr>
							<tr>
								<th class="">Photo</th>
								<td>{{ user.picture ? user.picture : '-' }}</td>
							</tr>
							<tr>
								<th class="">Rôle</th>
								{# <td>{{ user.roles ? user.roles|json_encode : '-' }}</td> #}
								<td>
								{% for role in user.roles %}
									{% if loop.first %}   
										<span>{{ role }}</span>
									{% else %}
										<span>, {{ role }}</span>
									{% endif %}
								{% endfor %}
								</td>
							</tr>
							<tr>
								<th class="">Date de création</th>
								<td>{{ user.createdAt ? user.createdAt|date('Y-m-d H:i:s') : '-' }}</td>
							</tr>
							<tr>
								<th class="">Date de modification</th>
								<td>{{ user.updatedAt ? user.updatedAt|date('Y-m-d H:i:s') : '-' }}</td>
							</tr>
						</tbody>
					</table>
				</div>
			{% endblock %}
